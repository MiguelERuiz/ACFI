\documentclass{beamer}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Definicion de paquetes
\usepackage{minted}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{hyperref}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Definición de comandos
\setlength{\marginparwidth}{2cm}
\newcommand{\unsure}[2]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommand{\change}[2]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommand{\info}[2]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommand{\improvement}[2]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommand{\thiswillnotshow}[2]{\todo[disable,#1]{#2}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer
\usetheme{Madrid}
\AtBeginEnvironment{minted}{\fontsize{12}{12}\selectfont}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Título
\title{Property-based Testing con PropEr}
\author{Miguel Emilio Ruiz Nieto}
\date{\today} % TODO poner la fecha del 3/11/2021
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Empieza el documento
\begin{document}
  \begin{frame}
    \titlepage
  \end{frame}

  \begin{frame}{Contenidos}
    \tableofcontents[hideallsubsections]
  \end{frame}

  % Estructura de la presentación
  \section{Definición}
    \begin{frame}{Definición}
      \begin{itemize}
        \item Es una técnica para hacer pruebas sobre las propiedades de nuestro sistema.
        \item Los tests no son sobre casos de uso, sino sobre el comportamiento del propio sistema.
        \item Muy común en lenguajes de programación funcional (i.e Quickcheck)
      \end{itemize}
    \end{frame}
  \section{Motivación}
    \begin{frame}[fragile]{Motivación}
      \begin{minted}{erlang}
        -module(my_sort).

        -export([sort/1]).
        % Implementation of quicksort algorithm
        -spec sort(list(integer())) -> list(integer()).
        sort([]) -> [];
        sort([P|Xs]) ->
          sort([X || X <- Xs, X < P]) ++ [P] ++ sort([X || X <- Xs, P =< X]).
      \end{minted}
    \end{frame}
    \begin{frame}[fragile]{Motivación. Test unitarios}
      \begin{minted}{erlang}
        sort_test_() ->
          [test_zero(), test_two(), test_four()].
        test_zero() ->
            ?_assertEqual([], sort_lib:sort([])).
        test_two() ->
            [?_assertEqual([17,42], sort_lib:sort([X,Y])) || {X,Y} <- [{17,42}, {42,17}]].
        test_four() ->
            [?_assertEqual([1,1,3,4], sort_lib:sort([3,1,4,1]))].
      \end{minted}
    \end{frame}
    \begin{frame}{Motivación}
      \begin{block}{Preguntas}
        \begin{itemize}
          \item ¿Son buenos estos tests?
          \item ¿Harían falta más?
          \item ¿Cuántos más?
        \end{itemize}
      \end{block}
    \end{frame}
  \section{Erlang}
    \subsection{Historia}
    \begin{frame}{Erlang}
      \begin{itemize}
        \item Lenguaje de programación desarrollado en Ericsson
        \item Orientado a programación concurrente:
        \begin{itemize}
          \item Modelo de actores
          \item Paso de mensajes
          \item Tolerancia a fallos
          \item Alta disponibilidad
          \item Filosofía "Let it crash"
        \end{itemize}
      \end{itemize}
    \end{frame}
    \subsection{Sintaxis}
    \begin{frame}
      % TODO Meter sintaxis de
      %%% Modulos y funciones
      %%% Listas
      %%% Tuplas
      %%% Pattern Matching
      %%% Paso de mensajes
    \end{frame}
  \section{PropEr}
    \begin{frame}{PropEr}

    \end{frame}
    \subsection{Estructura de las propiedades}
    \subsection{Generadores}
    \subsection{Invariantes}
    \subsection{Propiedades sin estado}
    \subsection{Propiedades con estado}
    \subsection{?SHRINK}
  \section{Un caso real}
    \begin{frame}{Un caso real}

    \end{frame}
  \section{Bibliografía}
    \begin{frame}{Bibliografía}
    \end{frame}
\end{document}